title: 提取引用的资源文件
date: 2018/9/16 14:07:12  
categories: iOS
tags: 

	- 学习笔记
	

---

想要写一个高仿的应用有两个关键点，一个是抓取应用的接口，一个是获取应用的资源文件。这里就来简单介绍下如何获取应用的资源文件。

<!--more-->



### 下载 Apple Configurator 2

想要获取资源文件首先要获取应用的 ipa 包。我们可以通过苹果官方出品的 Apple Configurator 2。可以通过它来为 iphone 添加应用。

手机连接上 Mac 之后，Apple Configurator 2 中会显示出手机的信息。这个时候点击添加应用，在 app store 中搜索你想要获取资源的引用：

![](https://github.com/zhang759740844/MyImgs/blob/master/MyBlog/assets_1.png?raw=true)

搜索到之后点击下载。如果手机中没有目标应用，第一次就直接安装了，安装成功后再次搜索该应用下载。这个时候就会提示已经有该应用了，是否要替换：

![](https://github.com/zhang759740844/MyImgs/blob/master/MyBlog/assets_2.png?raw=true)

这个时候不要做任何的点击。在终端中进入到 Apple Configurator 2 的缓存目录下：`~/Library/Group Containers/K36BKF7T3D.group.com.apple.configurator/Library/Caches/Assets/TemporaryItems/MobileApps/` 你会发现目标应用的 ipa 包。

原因在于，Apple Configurator 2 下载的文件会临时保存在该临时目录下。如果安装完毕，就会立刻删除该 ipa 包。由于之前已经下载了该应用，Apple Configurator 2 弹窗提示是否需要替换，此时的 ipa 包还没来得及删除，可以复制出来。

### 使用资源文件

把 ipa 包复制出来后，使用解压工具对其进行解压。在 `payload` 文件夹下有资源包。

![](https://github.com/zhang759740844/MyImgs/blob/master/MyBlog/assets_3.png?raw=true)

这个包里已经可以看到很多资源文件了，但是我们需要找到的是 `Assets.car` 这个压缩文件，这里面才是真正的我们需要的图片资源。这个`Assets.car`文件的解压需要用到[https://github.com/pcjbird/AssetsExtractor](https://link.jianshu.com/?t=https%3A%2F%2Fgithub.com%2Fpcjbird%2FAssetsExtractor)使用起来非常方便。把 `Assets.car` 拖进该工具，指定输出目录就可以得到最终的全部资源文件